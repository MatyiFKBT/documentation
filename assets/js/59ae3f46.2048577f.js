"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[9267],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>g});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=p(n),g=r,m=d["".concat(s,".").concat(g)]||d[g]||c[g]||i;return n?a.createElement(m,o(o({ref:t},u),{},{components:n})):a.createElement(m,o({ref:t},u))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},61090:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var a=n(87462),r=(n(67294),n(3905));const i={id:"using_with_dart",title:"Using with Dart",sidebar_label:"Using with Dart",slug:"/web/using_with_dart"},o=void 0,l={unversionedId:"web/using_with_dart",id:"web/using_with_dart",title:"Using with Dart",description:"This integration is meant to be used just in a browser. It will not work with other Dart platforms.",source:"@site/docs/web/using_with_dart.mdx",sourceDirName:"web",slug:"/web/using_with_dart",permalink:"/docs/web/using_with_dart",draft:!1,editUrl:"https://github.com/tolgee/documentation/tree/main/docs/web/using_with_dart.mdx",tags:[],version:"current",frontMatter:{id:"using_with_dart",title:"Using with Dart",sidebar_label:"Using with Dart",slug:"/web/using_with_dart"},sidebar:"someSidebar",previous:{title:"Using with PHP",permalink:"/docs/web/using_with_php"},next:{title:"ICU message format",permalink:"/docs/icu_message_format"}},s={},p=[{value:"Translating",id:"translating",level:2},{value:"Translating with parameters",id:"translating-with-parameters",level:3},{value:"Disabling wrapping in development mode",id:"disabling-wrapping-in-development-mode",level:3},{value:"Getting JavaScript Tolgee instance",id:"getting-javascript-tolgee-instance",level:2},{value:"Message format",id:"message-format",level:2}],u={toc:p};function c(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"This integration is meant to be used just in a browser. It will not work with other Dart platforms.")),(0,r.kt)("p",null,"To get full image of working PHP integration check our ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/tolgee/dart-example"},"Dart example application"),"."),(0,r.kt)("p",null,"To install Tolgee Dart integration, add ",(0,r.kt)("inlineCode",{parentName:"p"},"tolgee")," dependency into your ",(0,r.kt)("inlineCode",{parentName:"p"},"pubspec.yaml")," file."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"dev_dependencies:\n...\n  tolgee: ^1.0.0\n")),(0,r.kt)("p",null,"Then run:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"pub get\n")),(0,r.kt)("p",null,"to get the dependency."),(0,r.kt)("p",null,"Dart integration library is just a wrapper for Tolgee javascript libraries, so you will also need to append these\nscript tags into your HTML document:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<head>\n...\n    <script src="https://unpkg.com/@tolgee/core@1.0.0-alpha.24/dist/tolgee.window.js"><\/script>\n    <script src="https://unpkg.com/@tolgee/ui@1.0.0-alpha.24/dist/tolgee.window.js"><\/script>\n    <script defer src="main.dart.js"><\/script> \x3c!-- here goes your dart main... --\x3e\n</head>\n')),(0,r.kt)("p",null,"Then you can use Tolgee Dart library in your code. To configure it, create configuration map:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"  var config = {\n    'apiKey': \"your api key goes here\",\n    'apiUrl': \"https://app.tolgee.io\",\n    'targetElement': window.document\n        .getElementsByTagName('body')\n        .first\n  };\n")),(0,r.kt)("p",null,"The configuration property names are the same as in Tolgee JS Core library. See ",(0,r.kt)("a",{parentName:"p",href:"configuration"},"configuration"),"."),(0,r.kt)("p",null,"When you got your configuration map, you can create Tolgee class instance and run it."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"  var tolgee = Tolgee(config);\n  await tolgee.run();\n")),(0,r.kt)("h2",{id:"translating"},"Translating"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"translate")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"instant")," functions are similar as in JS integration library."),(0,r.kt)("p",null,"To translate a string asynchronously, use translate function:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"querySelector('#output').text = await tolgee.translate('hello_world');\n")),(0,r.kt)("p",null,"To translate synchronously use instant function:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"querySelector('#output').text = tolgee.instant('hello_world');\n")),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"This function behaves differently in development and production mode.\nUse this function just when you are sure, that your translations are loaded.")),(0,r.kt)("h3",{id:"translating-with-parameters"},"Translating with parameters"),(0,r.kt)("p",null,"To pass parameters, use second parameter of ",(0,r.kt)("inlineCode",{parentName:"p"},"instant")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"translate")," functions."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"querySelector('#output').text = await tolgee.translate('peter_has_n_dogs', {\"dogCount\": 5});\n")),(0,r.kt)("h3",{id:"disabling-wrapping-in-development-mode"},"Disabling wrapping in development mode"),(0,r.kt)("p",null,"In rare cases the wrapping and unwrapping process can be unwanted. For example tooltips could be rendered with improper\nsize, or you will see encoded text such as ",(0,r.kt)("inlineCode",{parentName:"p"},"%-%:tolgee:something%-%"),". To avoid this, you will need to disable wrapping, which\ndisables the in-context localization, so it will be impossible to translate the text by simple ",(0,r.kt)("strong",{parentName:"p"},"ALT + clicking")," it."),(0,r.kt)("p",null,"To do that, set the third parameter of translation functions to ",(0,r.kt)("inlineCode",{parentName:"p"},"true")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"await tolgee.translate('peter_has_n_dogs', {\"dogCount\": 5}, true) // Peter has 5 dogs\n")),(0,r.kt)("p",null,"This will return translated text directly without wrapping even in development mode."),(0,r.kt)("h2",{id:"getting-javascript-tolgee-instance"},"Getting JavaScript Tolgee instance"),(0,r.kt)("p",null,"To get javascript Tolgee class instance, call:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"var jsInstance = tolgee.getJsInstance();\n")),(0,r.kt)("h2",{id:"message-format"},"Message format"),(0,r.kt)("p",null,"All Tolgee integrations follow ICU message format standard."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"{dogsCount, plural, one {One dog is} other {# dogs are}} here.")),(0,r.kt)("p",null,"To read more about it, check\n",(0,r.kt)("a",{parentName:"p",href:"/docs/icu_message_format"},"ICU Message Format")," documentation page."),(0,r.kt)("p",null,"All Tolgee JS integrations are using ",(0,r.kt)("a",{parentName:"p",href:"https://formatjs.io/docs/intl-messageformat/"},"MessageFormat class of formatJs library"),"."))}c.isMDXComponent=!0}}]);