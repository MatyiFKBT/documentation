"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[7351],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),h=c(n),d=i,m=h["".concat(l,".").concat(d)]||h[d]||p[d]||o;return n?r.createElement(m,a(a({ref:t},u),{},{components:n})):r.createElement(m,a({ref:t},u))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,a[1]=s;for(var c=2;c<o;c++)a[c]=n[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},92515:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var r=n(87462),i=(n(67294),n(3905));const o={slug:"let-this-script-type-instead-of-you-when-you-record-your-browser",title:"Let this script type instead of you when you record a video of your browser \u2328",authors:["jcizmar"],image:"/img/blog/typing-script/image.jpg",description:"Describing a simple script that types the string instead of me when I hit a specific shortcut.",tags:["fixtures","coding","fun"]},a=void 0,s={permalink:"/blog/let-this-script-type-instead-of-you-when-you-record-your-browser",editUrl:"https://github.com/tolgee/documentation/tree/main/blog/2022-09-07-let-script-write-for-you.md",source:"@site/blog/2022-09-07-let-script-write-for-you.md",title:"Let this script type instead of you when you record a video of your browser \u2328",description:"Describing a simple script that types the string instead of me when I hit a specific shortcut.",date:"2022-09-07T00:00:00.000Z",formattedDate:"September 7, 2022",tags:[{label:"fixtures",permalink:"/blog/tags/fixtures"},{label:"coding",permalink:"/blog/tags/coding"},{label:"fun",permalink:"/blog/tags/fun"}],readingTime:2.125,hasTruncateMarker:!0,authors:[{name:"Jan Cizmar \ud83d\ude0e",title:"Founder & Full-stack Architect",url:"https://github.com/JanCizmar",imageURL:"https://avatars.githubusercontent.com/u/18496315?v=4",key:"jcizmar"}],frontMatter:{slug:"let-this-script-type-instead-of-you-when-you-record-your-browser",title:"Let this script type instead of you when you record a video of your browser \u2328",authors:["jcizmar"],image:"/img/blog/typing-script/image.jpg",description:"Describing a simple script that types the string instead of me when I hit a specific shortcut.",tags:["fixtures","coding","fun"]},prevItem:{title:"What is the difference between i18n and i18next?",permalink:"/blog/difference-between-i18n-and-i18next"},nextItem:{title:"New Project API key format and Personal Access Tokens \ud83d\udd11",permalink:"/blog/new-api-keys-and-pats"}},l={authorsImageUrls:[void 0]},c=[{value:"How does it work?",id:"how-does-it-work",level:2},{value:"React issue",id:"react-issue",level:2},{value:"The script",id:"the-script",level:2},{value:"How to use it",id:"how-to-use-it",level:2}],u={toc:c};function p(e){let{components:t,...o}=e;return(0,i.kt)("wrapper",(0,r.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"I was working on cool gifs for Tolgee's ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/tolgee/tolgee-platform/blob/main/README.md"},"new readme"),",\nwhere we show how simply you can ",(0,i.kt)("a",{parentName:"p",href:"/blog/in-context-production"},"modify a localization string")," in your App. But when I need to type something into input,\nI always make like 5 mistakes and my typing is not very nice to look at. So I created a script that types the string\ninstead of me when I hit a specific shortcut. Now I use this to record videos, where I have to fill in some input, and I\ndon't want to record it like 1000 times because I was typing inconsistently."),(0,i.kt)("p",null,"It can be useful for some pranks if you extend this. But let's leave this to your imagination."),(0,i.kt)("h2",{id:"how-does-it-work"},"How does it work?"),(0,i.kt)("p",null,"So how does it work? It takes the array of strings. When I hit ",(0,i.kt)("inlineCode",{parentName:"p"},"ctrl + h")," for the first time, it iterates over\ncharacters in the first string and modifies the value of the currently focused input by adding the current character. It waits 30ms\nbetween every character addition. When I hit the shortcut a second time, it does the same thing with the second string."),(0,i.kt)("h2",{id:"react-issue"},"React issue"),(0,i.kt)("p",null,"When you just modify the value property of an input element, React doesn't trigger your onChange listener and so the value is not changed,\nsince React state is not updated. To trigger the onChange event listener you have to also dispatch ",(0,i.kt)("inlineCode",{parentName:"p"},"input")," and do some\nother stuff you can read\nabout ",(0,i.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/30683628/react-js-setting-value-of-input/52486921#52486921"},"here"),"."),(0,i.kt)("h2",{id:"the-script"},"The script"),(0,i.kt)("p",null,"The script (I call it typescript \ud83d\ude04):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'(() => {\n  const strs = ["This is text...", "This is another text."];\n  let hits = 0;\n  window.onkeyup = async (event) => {\n    if (event.ctrlKey && event.key === "h") {\n      const input = document.activeElement;\n      for (const char of strs[hits]) {\n        if (input.value !== undefined) {\n          setNativeValue(input, input.value + char)\n        }\n        await new Promise((resolve) => setTimeout(resolve, 30))\n      }\n      hits++;\n    }\n  }\n\n  // Boring part starts here\n  // It makes it working with react.js apps\n  function setNativeValue(element, value) {\n    let lastValue = element.value;\n    element.value = value;\n    let event = new Event("input", {target: element, bubbles: true});\n    // React 15\n    event.simulated = true;\n    // React 16\n    let tracker = element._valueTracker;\n    if (tracker) {\n      tracker.setValue(lastValue);\n    }\n    element.dispatchEvent(event);\n  }\n})()\n')),(0,i.kt)("h2",{id:"how-to-use-it"},"How to use it"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Copy the script and modify the strings to be typed"),(0,i.kt)("li",{parentName:"ol"},"Copy the modified script"),(0,i.kt)("li",{parentName:"ol"},"Go to the console of developer tools in your browser and paste the script"),(0,i.kt)("li",{parentName:"ol"},"Hit enter"),(0,i.kt)("li",{parentName:"ol"},"Focus an input and hit ",(0,i.kt)("inlineCode",{parentName:"li"},"ctrl + h")),(0,i.kt)("li",{parentName:"ol"},"Your text is being typed")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"The schowcase",src:n(41512).Z,width:"1210",height:"718"})))}p.isMDXComponent=!0},41512:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/show-05e70244285ceabce256f17b8c853175.gif"}}]);