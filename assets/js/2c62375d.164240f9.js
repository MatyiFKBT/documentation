"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[3010],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>h});var n=a(67294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=n.createContext({}),d=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=d(e.components);return n.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,l=e.originalType,s=e.parentName,u=r(e,["components","mdxType","originalType","parentName"]),c=d(a),h=i,m=c["".concat(s,".").concat(h)]||c[h]||p[h]||l;return a?n.createElement(m,o(o({ref:t},u),{},{components:a})):n.createElement(m,o({ref:t},u))}));function h(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=a.length,o=new Array(l);o[0]=c;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r.mdxType="string"==typeof e?e:i,o[1]=r;for(var d=2;d<l;d++)o[d]=a[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},23746:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>d});var n=a(87462),i=(a(67294),a(3905));const l={id:"configuration",title:"Server configuration",sidebar_label:"Configuration",slug:"/platform/self_hosting/configuration"},o=void 0,r={unversionedId:"platform/self_hosting/configuration",id:"platform/self_hosting/configuration",title:"Server configuration",description:"As the Server is based on Spring framework, it follows its configuration standards. You can provide configuration properties",source:"@site/docs/platform/self_hosting/configuration.mdx",sourceDirName:"platform/self_hosting",slug:"/platform/self_hosting/configuration",permalink:"/docs/platform/self_hosting/configuration",draft:!1,editUrl:"https://github.com/tolgee/documentation/tree/main/docs/platform/self_hosting/configuration.mdx",tags:[],version:"current",frontMatter:{id:"configuration",title:"Server configuration",sidebar_label:"Configuration",slug:"/platform/self_hosting/configuration"},sidebar:"someSidebar",previous:{title:"Running with Java",permalink:"/docs/platform/self_hosting/running_with_java"},next:{title:"Understanding Tolgee",permalink:"/docs/web/understanding_tolgee_for_web"}},s={},d=[{value:"server.port",id:"serverport",level:2},{value:"Data source settings",id:"data-source-settings",level:2},{value:"spring.datasource.url",id:"springdatasourceurl",level:3},{value:"spring.datasource.username",id:"springdatasourceusername",level:3},{value:"spring.datasource.password",id:"springdatasourcepassword",level:3},{value:"Tolgee",id:"tolgee",level:2},{value:"tolgee.front-end-url",id:"tolgeefront-end-url",level:3},{value:"tolgee.file-storage-url",id:"tolgeefile-storage-url",level:3},{value:"tolgee.max-upload-file-size",id:"tolgeemax-upload-file-size",level:3},{value:"tolgee.max-screenshots-per-key",id:"tolgeemax-screenshots-per-key",level:3},{value:"tolgee.max-translation-text-length",id:"tolgeemax-translation-text-length",level:3},{value:"File storage",id:"file-storage",level:2},{value:"fs-data-path",id:"fs-data-path",level:3},{value:"s3.enabled",id:"s3enabled",level:3},{value:"Authentication",id:"authentication",level:2},{value:"enabled",id:"enabled",level:3},{value:"jwt-secret",id:"jwt-secret",level:3},{value:"jwt-expiration",id:"jwt-expiration",level:3},{value:"native-enabled",id:"native-enabled",level:3},{value:"registrations-allowed",id:"registrations-allowed",level:3},{value:"needs-email-verification",id:"needs-email-verification",level:3},{value:"create-initial-user",id:"create-initial-user",level:3},{value:"initial-username",id:"initial-username",level:3},{value:"initial-password",id:"initial-password",level:3},{value:"secured-image-retrieval",id:"secured-image-retrieval",level:3},{value:"secured-image-timestamp-max-age",id:"secured-image-timestamp-max-age",level:3},{value:"<s>user-can-create-projects</s>",id:"user-can-create-projects",level:3},{value:"user-can-create-organizations",id:"user-can-create-organizations",level:3},{value:"GitHub authentication",id:"github-authentication",level:2},{value:"client-id",id:"client-id",level:3},{value:"client-secret",id:"client-secret",level:3},{value:"authorization-url",id:"authorization-url",level:3},{value:"user-url",id:"user-url",level:3},{value:"Google authentication",id:"google-authentication",level:2},{value:"client-id",id:"client-id-1",level:3},{value:"client-secret",id:"client-secret-1",level:3},{value:"workspace-domain",id:"workspace-domain",level:3},{value:"authorization-url",id:"authorization-url-1",level:3},{value:"user-url",id:"user-url-1",level:3},{value:"OAuth2 authentication",id:"oauth2-authentication",level:2},{value:"client-id",id:"client-id-2",level:3},{value:"client-secret",id:"client-secret-2",level:3},{value:"scopes",id:"scopes",level:3},{value:"authorization-url",id:"authorization-url-2",level:3},{value:"token-url",id:"token-url",level:3},{value:"user-url",id:"user-url-2",level:3},{value:"LDAP authentication",id:"ldap-authentication",level:2},{value:"enabled",id:"enabled-1",level:3},{value:"ReCAPTCHA",id:"recaptcha",level:2},{value:"Postgres autostart",id:"postgres-autostart",level:2},{value:"enabled",id:"enabled-2",level:3},{value:"mode",id:"mode",level:3},{value:"user",id:"user",level:3},{value:"password",id:"password",level:3},{value:"database-name",id:"database-name",level:3},{value:"port",id:"port",level:3},{value:"container-name",id:"container-name",level:3},{value:"Rate Limits",id:"rate-limits",level:2},{value:"enabled",id:"enabled-3",level:3},{value:"SMTP",id:"smtp",level:2},{value:"host",id:"host",level:3},{value:"username",id:"username",level:3},{value:"password",id:"password-1",level:3},{value:"port",id:"port-1",level:3},{value:"auth",id:"auth",level:3},{value:"tls-enabled",id:"tls-enabled",level:3},{value:"ssl-enabled",id:"ssl-enabled",level:3},{value:"tls-required",id:"tls-required",level:3},{value:"from",id:"from",level:3},{value:"Machine translation",id:"machine-translation",level:2},{value:"free-credits-amount",id:"free-credits-amount",level:3},{value:"Google Cloud&#39;s Cloud Translation",id:"google-clouds-cloud-translation",level:2},{value:"default-enabled",id:"default-enabled",level:3},{value:"default-primary",id:"default-primary",level:3},{value:"api-key",id:"api-key",level:3},{value:"Amazon Translate",id:"amazon-translate",level:2},{value:"default-enabled",id:"default-enabled-1",level:3},{value:"default-primary",id:"default-primary-1",level:3},{value:"access-key",id:"access-key",level:3},{value:"secret-key",id:"secret-key",level:3},{value:"region",id:"region",level:3},{value:"DeepL Translate",id:"deepl-translate",level:2},{value:"default-enabled",id:"default-enabled-2",level:3},{value:"default-primary",id:"default-primary-2",level:3},{value:"auth-key",id:"auth-key",level:3},{value:"formality",id:"formality",level:3},{value:"Socket.IO",id:"socketio",level:2},{value:"enabled",id:"enabled-4",level:3},{value:"port",id:"port-2",level:3},{value:"host",id:"host-1",level:3},{value:"use-redis",id:"use-redis",level:3},{value:"external-url",id:"external-url",level:3},{value:"allowed-transports",id:"allowed-transports",level:3},{value:"Cache",id:"cache",level:2},{value:"enabled",id:"enabled-5",level:3},{value:"use-redis",id:"use-redis-1",level:3},{value:"default-ttl",id:"default-ttl",level:3},{value:"caffeine-max-size",id:"caffeine-max-size",level:3},{value:"Sentry",id:"sentry",level:2},{value:"server-dsn",id:"server-dsn",level:3},{value:"client-dsn",id:"client-dsn",level:3},{value:"Import",id:"import",level:2},{value:"dir",id:"dir",level:3},{value:"create-implicit-api-key",id:"create-implicit-api-key",level:3},{value:"<code>.env</code> example",id:"env-example",level:2}],u={toc:d};function p(e){let{components:t,...a}=e;return(0,i.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"As the Server is based on Spring framework, it follows its configuration standards. You can provide configuration properties\nas command line arguments when you run Tolgee with ",(0,i.kt)("inlineCode",{parentName:"p"},"java -jar")," command or as environment variables."),(0,i.kt)("h2",{id:"serverport"},"server.port"),(0,i.kt)("p",null,"Port on which Tolgee exposes itself (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"8080"),")"),(0,i.kt)("h2",{id:"data-source-settings"},"Data source settings"),(0,i.kt)("p",null,"Since Tolgee is built on Spring framework, to configure its database connection you have to edit following\nconfiguration props. These properties can be omitted when using\n",(0,i.kt)("a",{parentName:"p",href:"/docs/platform/self_hosting/configuration#postgres-autostart"},(0,i.kt)("inlineCode",{parentName:"a"},"postgres-autostart")),", which is enabled\nby default."),(0,i.kt)("h3",{id:"springdatasourceurl"},"spring.datasource.url"),(0,i.kt)("p",null,"The url of the datasource in format ",(0,i.kt)("inlineCode",{parentName:"p"},"jdbc:postgresql://<host>:<port>/<dbname>"),"."),(0,i.kt)("p",null,"e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"jdbc:postgresql://db:5432/postgres")),(0,i.kt)("h3",{id:"springdatasourceusername"},"spring.datasource.username"),(0,i.kt)("p",null,"Database username. e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"postgres")),(0,i.kt)("h3",{id:"springdatasourcepassword"},"spring.datasource.password"),(0,i.kt)("p",null,"Database password. e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"postgres")),(0,i.kt)("h2",{id:"tolgee"},"Tolgee"),(0,i.kt)("p",null,"Configuration specific to Tolgee"),(0,i.kt)("h3",{id:"tolgeefront-end-url"},"tolgee.front-end-url"),(0,i.kt)("p",null,"Public URL where Tolgee is accessible. Used to generate links to Tolgee (e.g. email confirmation link)."),(0,i.kt)("h3",{id:"tolgeefile-storage-url"},"tolgee.file-storage-url"),(0,i.kt)("p",null,"Public base path where files are accessible. Used by the user interface. (default: same origin, at the root)."),(0,i.kt)("h3",{id:"tolgeemax-upload-file-size"},"tolgee.max-upload-file-size"),(0,i.kt)("p",null,"Maximum size of uploaded files (in kilobytes). (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"2048")," \u2248 2MB)"),(0,i.kt)("h3",{id:"tolgeemax-screenshots-per-key"},"tolgee.max-screenshots-per-key"),(0,i.kt)("p",null,"Maximum amount of screenshots which can be uploaded per API key. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"20"),")"),(0,i.kt)("h3",{id:"tolgeemax-translation-text-length"},"tolgee.max-translation-text-length"),(0,i.kt)("p",null,"Maximum length of translations. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"10000"),")"),(0,i.kt)("h2",{id:"file-storage"},"File storage"),(0,i.kt)("p",null,"Prefix: ",(0,i.kt)("inlineCode",{parentName:"p"},"tolgee.file-storage")),(0,i.kt)("h3",{id:"fs-data-path"},"fs-data-path"),(0,i.kt)("p",null,"Path to directory where Tolgee will store its files. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"~/.tolgee/"),", with docker ",(0,i.kt)("inlineCode",{parentName:"p"},"/data/"),")"),(0,i.kt)("h3",{id:"s3enabled"},"s3.enabled"),(0,i.kt)("p",null,"Tolgee supports storing its files on an S3-compatible storage server. When enabled, Tolgee will store all its files on\nthe S3 server rather than on disk. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),")"),(0,i.kt)("p",null,"When enabled, you will need to set the following configuration properties as well:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"s3.access-key"),(0,i.kt)("li",{parentName:"ul"},"s3.secret-key"),(0,i.kt)("li",{parentName:"ul"},"s3.endpoint"),(0,i.kt)("li",{parentName:"ul"},"s3.signing-region"),(0,i.kt)("li",{parentName:"ul"},"s3.bucket-name")),(0,i.kt)("h2",{id:"authentication"},"Authentication"),(0,i.kt)("p",null,"Prefix: ",(0,i.kt)("inlineCode",{parentName:"p"},"tolgee.authentication")),(0,i.kt)("h3",{id:"enabled"},"enabled"),(0,i.kt)("p",null,"Whether authentication is enabled. If not, Tolgee will create implicit user on first startup and will automatically log\nyou in. No login page shows, no permissions are managed. This is very useful, when you want to use Tolgee on your local\nmachine, or you just want to test it. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),")"),(0,i.kt)("h3",{id:"jwt-secret"},"jwt-secret"),(0,i.kt)("p",null,"Secret used to sign JWT authentication tokens with. It will be generated automatically, if not provided. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),").\nYou will be fine with 64 characters long random string."),(0,i.kt)("h3",{id:"jwt-expiration"},"jwt-expiration"),(0,i.kt)("p",null,"Expiration time of generated JWT tokens in milliseconds. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"604800000")," = 7 days)"),(0,i.kt)("h3",{id:"native-enabled"},"native-enabled"),(0,i.kt)("p",null,"Whether user credentials are stored in Tolgee's database. If you would like to use LDAP, set this to false. (default ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),")"),(0,i.kt)("h3",{id:"registrations-allowed"},"registrations-allowed"),(0,i.kt)("p",null,"Enable/disable sign ups into Tolgee. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),")"),(0,i.kt)("h3",{id:"needs-email-verification"},"needs-email-verification"),(0,i.kt)("p",null,"Whether users need to verify their email addresses when creating their account. Requires a valid\n",(0,i.kt)("a",{parentName:"p",href:"#SMTP"},"SMTP configuration"),". (default ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),")"),(0,i.kt)("h3",{id:"create-initial-user"},"create-initial-user"),(0,i.kt)("p",null,"If true, Tolgee creates initial user on first start-up. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),")"),(0,i.kt)("h3",{id:"initial-username"},"initial-username"),(0,i.kt)("p",null,"Username of initial user. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),")"),(0,i.kt)("h3",{id:"initial-password"},"initial-password"),(0,i.kt)("p",null,"Password of initial user. If unspecified, a random password will be generated and stored in the ",(0,i.kt)("inlineCode",{parentName:"p"},"initial.pwd")," file,\nlocated at the root of Tolgee's data path. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),")"),(0,i.kt)("h3",{id:"secured-image-retrieval"},"secured-image-retrieval"),(0,i.kt)("p",null,"Whether image assets should be protected by Tolgee. When enabled, all images are served with a secure token valid for\na set period of time to prevent unauthorized access to images. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),")"),(0,i.kt)("h3",{id:"secured-image-timestamp-max-age"},"secured-image-timestamp-max-age"),(0,i.kt)("p",null,"Expiration time of a generated image access token in seconds (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"600000")," \u2248 a week)"),(0,i.kt)("h3",{id:"user-can-create-projects"},(0,i.kt)("s",null,"user-can-create-projects")),(0,i.kt)("p",null,"(removed in 2.33.0)"),(0,i.kt)("p",null,"Whether regular users are allowed to create projects. When disabled, only administrators can create projects\n(default: ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),")"),(0,i.kt)("h3",{id:"user-can-create-organizations"},"user-can-create-organizations"),(0,i.kt)("p",null,"Whether regular users are allowed to create organizations. When ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),", only administrators can create organizations.\nBy default, when the user has no organization, one is created for them, this doesn't apply\nwhen ",(0,i.kt)("inlineCode",{parentName:"p"},"user-can-create-organizations = false"),". In that case, the user without organization has no permissions on the server.\n(default: ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),")"),(0,i.kt)("h2",{id:"github-authentication"},"GitHub authentication"),(0,i.kt)("p",null,"Prefix: ",(0,i.kt)("inlineCode",{parentName:"p"},"tolgee.authentication.github")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"GitHub authentication can be used in combination with LDAP or native authentication.")),(0,i.kt)("h3",{id:"client-id"},"client-id"),(0,i.kt)("p",null,"OAuth Client ID, obtained in GitHub administration. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),")"),(0,i.kt)("h3",{id:"client-secret"},"client-secret"),(0,i.kt)("p",null,"OAuth Client secret, obtained in GitHub administration. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),")"),(0,i.kt)("h3",{id:"authorization-url"},"authorization-url"),(0,i.kt)("p",null,"URL to the OAuth authorization screen. Useful if you want to authenticate against a self-hosted GitHub Enterprise Server.\n(default: ",(0,i.kt)("inlineCode",{parentName:"p"},"https://github.com/login/oauth/access_token"),")"),(0,i.kt)("h3",{id:"user-url"},"user-url"),(0,i.kt)("p",null,"URL to GitHub's /user API endpoint. Useful if you want to authenticate against a self-hosted GitHub Enterprise Server.\n(default: ",(0,i.kt)("inlineCode",{parentName:"p"},"https://api.github.com/user"),")"),(0,i.kt)("h2",{id:"google-authentication"},"Google authentication"),(0,i.kt)("p",null,"Prefix: ",(0,i.kt)("inlineCode",{parentName:"p"},"tolgee.authentication.google")),(0,i.kt)("p",null,"The following instructions explain how to set up Google OAuth. ",(0,i.kt)("a",{parentName:"p",href:"https://support.google.com/cloud/answer/6158849"},"Setting up OAuth 2.0")),(0,i.kt)("h3",{id:"client-id-1"},"client-id"),(0,i.kt)("p",null,"OAuth Client ID, obtained in Google Cloud Console. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),")"),(0,i.kt)("h3",{id:"client-secret-1"},"client-secret"),(0,i.kt)("p",null,"OAuth Client secret, obtained in Google Cloud Console. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),")"),(0,i.kt)("h3",{id:"workspace-domain"},"workspace-domain"),(0,i.kt)("p",null,"The registration can be limited to users of a Google Workspace domain. If nothing is set, anyone can log in with their Google account.\n(default: ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),")"),(0,i.kt)("h3",{id:"authorization-url-1"},"authorization-url"),(0,i.kt)("p",null,"URL to Google /token API endpoint. This usually does not need to be changed.\n(default: ",(0,i.kt)("inlineCode",{parentName:"p"},"https://oauth2.googleapis.com/token"),")"),(0,i.kt)("h3",{id:"user-url-1"},"user-url"),(0,i.kt)("p",null,"URL to Google /userinfo API endpoint. This usually does not need to be changed.\n(default: ",(0,i.kt)("inlineCode",{parentName:"p"},"https://www.googleapis.com/oauth2/v3/userinfo"),")"),(0,i.kt)("h2",{id:"oauth2-authentication"},"OAuth2 authentication"),(0,i.kt)("p",null,"Prefix: ",(0,i.kt)("inlineCode",{parentName:"p"},"tolgee.authentication.oauth2")),(0,i.kt)("p",null,"OAuth 2.0 is the industry-standard protocol for authorization.\nThis enables the integration of a wide range of authorization providers into tolgee, such as Auth0, KeyCloak, Okta and others."),(0,i.kt)("h3",{id:"client-id-2"},"client-id"),(0,i.kt)("p",null,"OAuth2 Client ID (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),")"),(0,i.kt)("h3",{id:"client-secret-2"},"client-secret"),(0,i.kt)("p",null,"OAuth2 Client secret (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),")"),(0,i.kt)("h3",{id:"scopes"},"scopes"),(0,i.kt)("p",null,"Oauth2 scopes (as list) (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),")"),(0,i.kt)("p",null,"Tolgee absolutely requires rights to view the email and user information (also known as openid data).\nIn most cases the scopes ",(0,i.kt)("inlineCode",{parentName:"p"},"openid email profile")," is used for this. (But can also be different depending on the provider)"),(0,i.kt)("h3",{id:"authorization-url-2"},"authorization-url"),(0,i.kt)("p",null,"URL to OAuth2 authorize API endpoint. This endpoint will exposed to the frontend.\n(default: ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),")"),(0,i.kt)("h3",{id:"token-url"},"token-url"),(0,i.kt)("p",null,"URL to OAuth2 token API endpoint.\n(default: ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),")"),(0,i.kt)("h3",{id:"user-url-2"},"user-url"),(0,i.kt)("p",null,"URL to OAuth2 userinfo API endpoint.\n(default: ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),")"),(0,i.kt)("h2",{id:"ldap-authentication"},"LDAP authentication"),(0,i.kt)("p",null,"Prefix: ",(0,i.kt)("inlineCode",{parentName:"p"},"tolgee.authentication.ldap")),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"This feature is experimental!")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"LDAP authentication can be used in combination with GitHub or native authentication.")),(0,i.kt)("p",null,"Tolgee can use a LDAP server to authenticate users. This is very useful if you already use LDAP as a primary mean of\nauthentication for other services."),(0,i.kt)("h3",{id:"enabled-1"},"enabled"),(0,i.kt)("p",null,"Whether LDAP authentication is enabled. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),")\nWhen enabled, you will need to set the following common LDAP properties:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"urls"),(0,i.kt)("li",{parentName:"ul"},"port"),(0,i.kt)("li",{parentName:"ul"},"base-dn"),(0,i.kt)("li",{parentName:"ul"},"security-principal"),(0,i.kt)("li",{parentName:"ul"},"principal-password"),(0,i.kt)("li",{parentName:"ul"},"user-dn-pattern")),(0,i.kt)("h2",{id:"recaptcha"},"ReCAPTCHA"),(0,i.kt)("p",null,"Prefix: ",(0,i.kt)("inlineCode",{parentName:"p"},"tolgee.recaptcha")),(0,i.kt)("p",null,"When configured, reCAPTCHA v3 is used to protect the sign up page against bots. By default, reCAPTCHA is disabled."),(0,i.kt)("p",null,"To enable it, you first need to ",(0,i.kt)("a",{parentName:"p",href:"https://www.google.com/recaptcha/admin"},"register a new site on reCAPTCHA"),". Make sure\nto select reCAPTCHA v3 when registering your site."),(0,i.kt)("p",null,"Then, you simply need to set the following configuration properties:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"site-key"),(0,i.kt)("li",{parentName:"ul"},"secret-key")),(0,i.kt)("h2",{id:"postgres-autostart"},"Postgres autostart"),(0,i.kt)("p",null,"Prefix: ",(0,i.kt)("inlineCode",{parentName:"p"},"tolgee.postgres-autostart")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"This feature was added in v2.")),(0,i.kt)("p",null,"Defines, whether and how is PostgreSQL started on Tolgee startup."),(0,i.kt)("h3",{id:"enabled-2"},"enabled"),(0,i.kt)("p",null,"Is PostgreSQL run on startup? Defaults to ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,i.kt)("h3",{id:"mode"},"mode"),(0,i.kt)("p",null,"How is Tolgee running PostgreSQL."),(0,i.kt)("p",null,"Options:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"DOCKER")," - Tolgee tries to run Postgres Docker container in your machine. This is default option when running Tolgee\nusing Java. See ",(0,i.kt)("a",{parentName:"li",href:"/docs/platform/self_hosting/running_with_java"},"Running with Java")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"EMBEDDED")," - Tolgee tries to run it's embedded PostgreSQL which is bundled in the ",(0,i.kt)("inlineCode",{parentName:"li"},"tolgee/tolgee")," Docker image.")),(0,i.kt)("h3",{id:"user"},"user"),(0,i.kt)("p",null,"Database user to bootstrap Postgres with. Defaults to ",(0,i.kt)("inlineCode",{parentName:"p"},"postgres")),(0,i.kt)("h3",{id:"password"},"password"),(0,i.kt)("p",null,"Database password to bootstrap Postgres with. Defaults to ",(0,i.kt)("inlineCode",{parentName:"p"},"postgres")),(0,i.kt)("h3",{id:"database-name"},"database-name"),(0,i.kt)("p",null,"The name of the database created to store Tolgee data. Defaults to ",(0,i.kt)("inlineCode",{parentName:"p"},"postgres")),(0,i.kt)("h3",{id:"port"},"port"),(0,i.kt)("p",null,"The port of Postgres to listen on host machine.\nThis setting is applicable only for ",(0,i.kt)("inlineCode",{parentName:"p"},"DOCKER")," mode. Defaults to ",(0,i.kt)("inlineCode",{parentName:"p"},"25432"),"."),(0,i.kt)("h3",{id:"container-name"},"container-name"),(0,i.kt)("p",null,"This setting is applicable only for ",(0,i.kt)("inlineCode",{parentName:"p"},"DOCKER")," mode. Defaults to ",(0,i.kt)("inlineCode",{parentName:"p"},"tolgee-postgres"),"."),(0,i.kt)("h2",{id:"rate-limits"},"Rate Limits"),(0,i.kt)("p",null,"Prefix: ",(0,i.kt)("inlineCode",{parentName:"p"},"tolgee.rate-limits"),"\nBy default Tolgee Platform limits requests to endpoints according to these rules."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Single IP is not allowed to request more than 20 000 times in 5 minutes"),(0,i.kt)("li",{parentName:"ul"},"Single IP is not allowed to request public endpoints (authentication, sign-ups) more than 1000 times per hour"),(0,i.kt)("li",{parentName:"ul"},"Single authenticated user cannot do more than 400 requests per minute")),(0,i.kt)("h3",{id:"enabled-3"},"enabled"),(0,i.kt)("p",null,"To turn these rate limits of, set this value to ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),". Defaults to ",(0,i.kt)("inlineCode",{parentName:"p"},"true")),(0,i.kt)("h2",{id:"smtp"},"SMTP"),(0,i.kt)("p",null,"To allow Tolgee to send emails to your users like password reset links or notifications, configure these properties.\nThese properties are prefixed with ",(0,i.kt)("inlineCode",{parentName:"p"},"tolgee.smtp"),"."),(0,i.kt)("p",null,"For AWS SES it would look like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"tolgee.smtp.host=email-smtp.eu-central-1.amazonaws.com\ntolgee.smtp.username=*****************\ntolgee.smtp.password=*****************\ntolgee.smtp.port=465\ntolgee.smtp.auth=true\ntolgee.smtp.ssl-enabled=true\ntolgee.smtp.from=Tolgee <no-reply@tolgee.yourserver.something>\n")),(0,i.kt)("h3",{id:"host"},"host"),(0,i.kt)("p",null,"SMTP host"),(0,i.kt)("h3",{id:"username"},"username"),(0,i.kt)("p",null,"The username for SMTP authentication"),(0,i.kt)("h3",{id:"password-1"},"password"),(0,i.kt)("p",null,"Password for SMTP authentication"),(0,i.kt)("h3",{id:"port-1"},"port"),(0,i.kt)("p",null,"SMTP port"),(0,i.kt)("h3",{id:"auth"},"auth"),(0,i.kt)("p",null,"Whether authentication is enabled. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),")"),(0,i.kt)("h3",{id:"tls-enabled"},"tls-enabled"),(0,i.kt)("p",null,"Whether TLS is enabled. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),")"),(0,i.kt)("h3",{id:"ssl-enabled"},"ssl-enabled"),(0,i.kt)("p",null,"Whether SSL is enabled. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),")"),(0,i.kt)("h3",{id:"tls-required"},"tls-required"),(0,i.kt)("p",null,"Whether SSL is required. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),")"),(0,i.kt)("h3",{id:"from"},"from"),(0,i.kt)("p",null,"The sender name and address in standard SMTP format."),(0,i.kt)("h2",{id:"machine-translation"},"Machine translation"),(0,i.kt)("p",null,"Prefix: ",(0,i.kt)("inlineCode",{parentName:"p"},"tolgee.machine-translation")),(0,i.kt)("h3",{id:"free-credits-amount"},"free-credits-amount"),(0,i.kt)("p",null,"Amount of machine translations users of the Free tier can request per month. Used by Tolgee Cloud,\nsee ",(0,i.kt)("a",{parentName:"p",href:"/pricing"},"pricing"),". Set to ",(0,i.kt)("inlineCode",{parentName:"p"},"-1")," to disable credit-based limitation. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"-1"),")"),(0,i.kt)("h2",{id:"google-clouds-cloud-translation"},"Google Cloud's Cloud Translation"),(0,i.kt)("p",null,"Prefix: ",(0,i.kt)("inlineCode",{parentName:"p"},"tolgee.machine-translation.google")),(0,i.kt)("p",null,"See ",(0,i.kt)("a",{parentName:"p",href:"https://cloud.google.com/translate"},"Google Cloud's Cloud Translation")," page for more information and applicable\npricing."),(0,i.kt)("h3",{id:"default-enabled"},"default-enabled"),(0,i.kt)("p",null,"Whether Google-powered machine translation is enabled. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),")"),(0,i.kt)("h3",{id:"default-primary"},"default-primary"),(0,i.kt)("p",null,"Whether to use Google Cloud's Cloud Translation as a primary translation engine. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),")"),(0,i.kt)("h3",{id:"api-key"},"api-key"),(0,i.kt)("p",null,"Google Cloud API key."),(0,i.kt)("h2",{id:"amazon-translate"},"Amazon Translate"),(0,i.kt)("p",null,"Prefix: ",(0,i.kt)("inlineCode",{parentName:"p"},"tolgee.machine-translation.aws")),(0,i.kt)("p",null,"See ",(0,i.kt)("a",{parentName:"p",href:"https://aws.amazon.com/translate"},"AWS's Amazon Translate")," page for more information and applicable pricing."),(0,i.kt)("h3",{id:"default-enabled-1"},"default-enabled"),(0,i.kt)("p",null,"Whether AWS-powered machine translation is enabled. (default ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),")"),(0,i.kt)("h3",{id:"default-primary-1"},"default-primary"),(0,i.kt)("p",null,"Whether to use Amazon Translate as a primary translation engine. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),")"),(0,i.kt)("h3",{id:"access-key"},"access-key"),(0,i.kt)("p",null,"AWS access key."),(0,i.kt)("h3",{id:"secret-key"},"secret-key"),(0,i.kt)("p",null,"AWS secret key."),(0,i.kt)("h3",{id:"region"},"region"),(0,i.kt)("p",null,"AWS region. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"eu-central-1"),")"),(0,i.kt)("h2",{id:"deepl-translate"},"DeepL Translate"),(0,i.kt)("p",null,"Prefix: ",(0,i.kt)("inlineCode",{parentName:"p"},"tolgee.machine-translation.deepl")),(0,i.kt)("p",null,"See ",(0,i.kt)("a",{parentName:"p",href:"https://www.deepl.com/"},"DeepL's")," page for more information and applicable pricing."),(0,i.kt)("h3",{id:"default-enabled-2"},"default-enabled"),(0,i.kt)("p",null,"Whether DeepL-powered machine translation is enabled. (default ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),")"),(0,i.kt)("h3",{id:"default-primary-2"},"default-primary"),(0,i.kt)("p",null,"Whether to use DeepL Translate as a primary translation engine. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),")"),(0,i.kt)("h3",{id:"auth-key"},"auth-key"),(0,i.kt)("p",null,"DeepL auth key. Both key types (commercial and free) are supported."),(0,i.kt)("h3",{id:"formality"},"formality"),(0,i.kt)("p",null,"Whether the translated text should lean towards formal or informal language.\nSee ",(0,i.kt)("a",{parentName:"p",href:"https://www.deepl.com/docs-api/translating-text/request/"},"DeepL's documentation")," for supported languages and details. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"default"),")"),(0,i.kt)("h2",{id:"socketio"},"Socket.IO"),(0,i.kt)("p",null,"Prefix: ",(0,i.kt)("inlineCode",{parentName:"p"},"tolgee.socket-io")),(0,i.kt)("p",null,"Tolgee exposes a Socket.IO server to allow you to get realtime data modification events."),(0,i.kt)("h3",{id:"enabled-4"},"enabled"),(0,i.kt)("p",null,"Whether the Socket.IO server is enabled. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),")"),(0,i.kt)("h3",{id:"port-2"},"port"),(0,i.kt)("p",null,"Port the Socket.IO server will listen on. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"9090"),")"),(0,i.kt)("h3",{id:"host-1"},"host"),(0,i.kt)("p",null,"Host the Socket.IO server will listen on. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"0.0.0.0"),")"),(0,i.kt)("h3",{id:"use-redis"},"use-redis"),(0,i.kt)("p",null,"Whether Tolgee should use Redis to keep track of connected clients. Useful if you have multiple instances of Tolgee,\nto ensure consistent broadcast of events. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),")"),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Tolgee uses ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/redisson/redisson"},"Redisson")," to interface with the Redis server. You can find the\nproperties Redisson expects ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/redisson/redisson/tree/56ea7f5/redisson-spring-boot-starter#2-add-settings-into-applicationsettings-file"},"here"),".")),(0,i.kt)("h3",{id:"external-url"},"external-url"),(0,i.kt)("p",null,"Public URL where the Socket.IO server is available. Exposed to clients via the public configuration API endpoint.\n(default: ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),")"),(0,i.kt)("h3",{id:"allowed-transports"},"allowed-transports"),(0,i.kt)("p",null,"Array of allowed Socket.IO transport methods. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},'[ "websocket", "polling" ]'),"). Refer to the\n",(0,i.kt)("a",{parentName:"p",href:"https://socket.io/docs/v4/how-it-works/#transports"},"Socket.IO documentation")," for more information."),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"To configure an array via properties, you need to use the ",(0,i.kt)("inlineCode",{parentName:"p"},"[index]")," notation:"),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre"},"tolgee.socket-io.allowed-transports[0]=websocket\ntolgee.socket-io.allowed-transports[1]=polling\n")),(0,i.kt)("p",{parentName:"admonition"},"See ",(0,i.kt)("a",{parentName:"p",href:"https://docs.spring.io/spring-boot/docs/2.6.4/reference/html/features.html#features.external-config.yaml.mapping-to-properties"},"Spring's documentation")," for more information.")),(0,i.kt)("h2",{id:"cache"},"Cache"),(0,i.kt)("p",null,"Prefix: ",(0,i.kt)("inlineCode",{parentName:"p"},"tolgee.cache")),(0,i.kt)("p",null,"At the expense of higher memory footprint, Tolgee can use a cache to reduce the stress on the database and fetch the\ndata it needs faster. Cache is also used to track certain states, such as rate limits."),(0,i.kt)("h3",{id:"enabled-5"},"enabled"),(0,i.kt)("p",null,"Whether Tolgee should use a cache. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),")"),(0,i.kt)("h3",{id:"use-redis-1"},"use-redis"),(0,i.kt)("p",null,"Whether Tolgee should use Redis to store cache data instead of storing it in-memory. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),")"),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"In a distributed environment, you ",(0,i.kt)("strong",{parentName:"p"},"should")," use a Redis server to ensure consistent enforcement of rate limits, as\nthey heavily rely on cache. For a simple single-node deployment, in-memory cache is sufficient.")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Tolgee uses ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/redisson/redisson"},"Redisson")," to interface with the Redis server. You can find the\nproperties Redisson expects ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/redisson/redisson/tree/56ea7f5/redisson-spring-boot-starter#2-add-settings-into-applicationsettings-file"},"here"),".")),(0,i.kt)("h3",{id:"default-ttl"},"default-ttl"),(0,i.kt)("p",null,"TTL of cache data, in milliseconds. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"120 * 60 * 1000")," = 2 hours)"),(0,i.kt)("h3",{id:"caffeine-max-size"},"caffeine-max-size"),(0,i.kt)("p",null,"Maximum size of the Caffeine cache. When exceeded, some entries will be purged from cache. Set to -1 to disable size\nlimitation. This has no effect when Redis cache is used. See\n",(0,i.kt)("a",{parentName:"p",href:"https://github.com/ben-manes/caffeine/wiki/Eviction#size-based"},"Caffeine's documentation about size-based eviction"),"\nfor more information. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"-1"),")"),(0,i.kt)("h2",{id:"sentry"},"Sentry"),(0,i.kt)("p",null,"Prefix: ",(0,i.kt)("inlineCode",{parentName:"p"},"tolgee.sentry")),(0,i.kt)("p",null,"Tolgee uses ",(0,i.kt)("a",{parentName:"p",href:"https://sentry.io/"},"Sentry")," for error reporting."),(0,i.kt)("h3",{id:"server-dsn"},"server-dsn"),(0,i.kt)("p",null,"Server DSN. If unset, error reporting is disabled on the server. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),")"),(0,i.kt)("h3",{id:"client-dsn"},"client-dsn"),(0,i.kt)("p",null,"Client DSN. If unset, error reporting is disabled on the client. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),")"),(0,i.kt)("h2",{id:"import"},"Import"),(0,i.kt)("p",null,"Prefix: ",(0,i.kt)("inlineCode",{parentName:"p"},"tolgee.import")),(0,i.kt)("p",null,"Bulk-imports exported json files in the database during startup. Useful to quickly provision a development server, and\nused for testing."),(0,i.kt)("h3",{id:"dir"},"dir"),(0,i.kt)("p",null,"File path of the directory where the file to import are located."),(0,i.kt)("h3",{id:"create-implicit-api-key"},"create-implicit-api-key"),(0,i.kt)("p",null,"Whether an implicit API key should be created. (default: ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),")"),(0,i.kt)("p",null,"The key is built with a predictable format: ",(0,i.kt)("inlineCode",{parentName:"p"},"${lowercase filename (without extension)}-${initial username}-imported-project-implicit")),(0,i.kt)("admonition",{type:"danger"},(0,i.kt)("p",{parentName:"admonition"},"While this is useful for tests, make sure to keep this ",(0,i.kt)("strong",{parentName:"p"},"disabled")," if you're importing projects on a production\nserver, as trying this predictable key may be the first thing an attacker will attempt to gain unauthorized access!")),(0,i.kt)("h2",{id:"env-example"},(0,i.kt)("inlineCode",{parentName:"h2"},".env")," example"),(0,i.kt)("p",null,"Example .env file which you can start with:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'JAVA_OPTS="-Xms128m -Xmx1024m"\n########## JWT #############\ntolgee.authentication.jwt-secret=...\n\n########## Data source #############\nspring.datasource.url=jdbc:postgresql://db:5432/postgres\nspring.datasource.username=postgres\nspring.datasource.password=postgres\n\n########## NATIVE #############\ntolgee.authentication.registrations-allowed=false\n\n######### SMTP ###########\ntolgee.smtp.host=\ntolgee.smtp.username=\ntolgee.smtp.password=\ntolgee.smtp.port=\ntolgee.smtp.auth=\ntolgee.smtp.ssl-enabled=\ntolgee.smtp.from=\n')))}p.isMDXComponent=!0}}]);